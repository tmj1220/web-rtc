# rokid-rtc-sdk

## release-note

### 3.0.1

> fix
- 修改心跳类型 HEARTBEAT  => HEARTBEAT_PLUS

### 3.0.0

> add 
- 会议中心跳加入channelId
- 通讯录接入rtc内部

### 1.8.7

> fix
- 修改收到音频关闭消息，本端不关闭音频
- 同步1.7.0内容
- 加入评分枚举类型

### 1.8.6

> fix
- 添加码率为0时，评分设置为1.0

### 1.8.5

> fix
- 调整评分策略

### 1.8.4

> fix
- 修改浮点数精度为0.01

### 1.8.3

> fix
- 调整评分策略边界值，左闭右开

### 1.8.2

> fix
- 调整评分策略 取当前评分的60% + 历史评分平均分的40%得到分数
- 添加评分描述枚举类型

### 1.8.1

> fix
- 调整评分策略
- 调整屏幕共享分辨率 最小10帧

### 1.8.0

> fix
- simulcast大小流开关
- 360P不推小流，其他分辨率调整大小流分配比例
- 弱网评分功能

### 1.7.9

> fix
- 修改切换声道判断音视频轨道存在

### 1.7.7

> fix
- 修改切换音视频状态，管理音视频轨道切换异常


### 1.7.6

> fix
- 修改屏幕共享开启后再关闭，视频轨道未关闭

### 1.7.5

> fix

- 设备管理器新增micro、camera、screen的媒体流
- 切换音视频及屏幕共享状态时，校验媒体流信息后，切换track


### 1.7.4

> fix
- 收到媒体信息更新状态通知时，加入屏幕共享状态开启视频内容
- 校验当前是否开启远端的音视频信息

### 1.7.3

> fix
- 修改屏幕共享开启时，默认选择本地音频开启
- 修改屏幕共享合并音频流
- 修改拉流端刷新闪屏问题

### 1.7.2

> fix
- 结束频道、退出频道后，删除本地的媒体流管理器

### 1.7.1

> fix 
- 修改屏幕共享分辨率设置参数
- 修改屏幕共享分辨率设置


### 1.7.0

> fix
- 屏幕共享拒绝授权，不再进行拉流重连

### 1.6.18

> fix
- 开启屏幕共享，可加入视频分辨率配置
- 修改谁被监听事件注入场景

### 1.6.17

> fix
- 修改推流加入音视频顺序

### 1.6.16

> fix
- 修改初始化媒体流管理器，同步音视频的状态

### 1.6.15

> fix
- 修改全员静音，静音audio标签
- 修改开启屏幕共享后，再切换音频设备，需要在原视频流中再加入音频，不再重新拉流

### 1.6.14

> fix
- 修改销毁rtc校验当前peer是否存在

### 1.6.13

> fix
- 修改切换音频导致视频异常开启

### 1.6.12

> add
- 添加媒体流错误信息推送事件

### 1.6.10

> fix
- 统一音视频设备切换入口，切换音视频异常

### 1.6.9

> fix 
- 修改设备监听事件

### 1.6.8

> fix
- 修改热插拔事件，回调事件触发条件

### 1.6.7

> fix
- 修改设备热插拔后，触发设备事件回调

### 1.6.6

> fix 
- 修改音视频设备热插拔后，重连接入会议

### 1.6.5

> add
- 加入会议时，不存在音视频设备，则不创建peer连接

### 1.6.4

> fix
- 修改断网后，本端重连失败

### 1.6.3

> fix
- 音视频未开启状态下，开启屏幕共享异常

### 1.6.2

> fix
- 订阅音视频的状态由调用者决定，不读取被订阅者的音视频状态

### 1.6.1

> fix
- 拉流端音视频状态更新时，重新渲染新的音视频tag

### 1.6.0

> update
- 无设备之间的切换
- 设备更新后重新订阅对端

### 1.5.8

> fix
- 断网重连offer&Answer为空，不重连

### 1.5.7

> fix
- 修改重连异常捕获

### 1.5.6

> fix
- 加入初始化可配置服务端地址 iceServers地址可配置

### 1.5.5

> fix
- 重连接口兼容1.4.x接口内容更新

### 1.5.4

> fix
- 切换音视频流订阅后，将音视频流重新渲染到view中

### 1.5.3

> fix
- 兼容1.4.x的订阅接口内容
- 订阅接口中加入是否开启静音

### 1.5.2
> fix
- 修改重新订阅出现的异常

### 1.5.1

> merge
- 合并release/1.3.2

### 1.5.0

> add
- 音视频拉流拆分 接口改动

### 1.4.18
> fix
- 修正RK过期20003后，重新登录授权
- 空流进入会议后，再拉起会议中的音视频流
- 请求接口失败后，重新获取token，再发起新的请求
- 新的视频流获取后，需要再发送通知给各端，更新音视频状态

### 1.4.17
> fix
- 修正视频设备未找到 or 未授权的情况 再拉取音频

### 1.4.16

> fix
- 修正音频流单独推送

### 1.4.15

> fix
- 修正视频流单独推送

### 1.4.14
> fix
- 修改仅音频加入会议的状态

### 1.4.13
> fix
- 修改屏幕共享时，没有音频流导致视频流无法切换
- sdpAnswer is null  可进入会议，不阻塞会议进程

### 1.4.12
> add
- 设备热插拔后，通过事件回调通知外层设备变更的信息

### 1.4.11
> add
- 设备热插拔后，重新获取音视频流，并替换原有音视频流

### 1.4.10

> fix
- 屏幕共享开启后，再渲染一次视频

### 1.4.9

> fix
- 修改屏幕共享视频流切换问题

### 1.4.8
> add
- 开关所有远端音频流

### 1.4.7
> fix
- 修改屏幕共享切换mediaStream抛出异常

### 1.4.6
> fix
- 屏幕共享关闭后，结束屏幕共享的stream
- join失败后，捕获异常，整合抛出
- 断网重连异常捕获整理

### 1.4.5

> fix
- 修改接听无音视频的呼叫，切换音频无响应
- 断网重连成功后，发起重连后的回调事件

### 1.4.3

> fix
- 离开、主动取消，不主动断开连接，提供方法外层调用

### 1.4.2
> fix
- 修改收到媒体流消息后，修改remoteStream状态

### 1.4.1
> add
- 添加屏幕共享结束状态通知

### 1.4.0

> fix
- 断线重连时，未连接成功则关闭未连接的PeerConnection
- 未授权摄像头或未开启视频流，开启屏幕共享，结束后同步视频流状态
- 音视频编解码内容替换

### 1.3.17

> fix
- pc添加默认remoteStream

### 1.3.16
> fix
断网重连新建PeerConnection，复用断网之前的音视频流

### 1.3.15
> fix
- callCancel 接口修改参数 inviteUserIdList -> cancelUserIdList

### 1.3.14
> fix
- connect 中传入dom元素id  获取dom约束，仅保存dom元素id

### 1.3.13

> 新增功能
- join接口加入inviteUser

### 1.3.0

> 新增功能

- 兼容性调整
- SaaS鉴授权剥离

### 1.2.0

> 新增功能

- 断线重连
- 媒体流调整
- 最大码率、最大延迟、最小延迟调整

### 1.1.0

> 实现功能

- 实时音视频基础功能
- 会议内事件通知
- 屏幕共享
- 本地视频调试
